{"ast":null,"code":"var _jsxFileName = \"E:\\\\Documentos\\\\UTrabajo------------\\\\DilbaniHelps\\\\proyecto1_base_consumo_api_hipotetica\\\\flux_base_MasGlobal\\\\src\\\\pages\\\\homePage\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport principalPhoto from \"./../../assets/principalPhoto.svg\";\nimport styles from \"./styles/HomePage.module.css\";\nimport { ProductList } from \"./features/ProductList\";\nimport storeProduct from \"./../../stores/productStore\";\nimport storeProductShopping from \"./../../stores/productShoppingStore\";\nimport * as actionProductShopping from \"./../../actions/productShoppingActions\";\nimport * as actionProducts from \"./../../actions/productActions\";\nimport * as actionCount from \"./../../actions/countActions\";\nimport storeProduct__api from \"../../stores/productStore__api\";\nimport * as actionProducts__api from \"../../actions/productAction__api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const HomePage = props => {\n  _s();\n  const [products, setProducts] = useState(storeProduct__api.getProducts());\n  const [AddState, setAddState] = useState(false);\n  useEffect(() => {\n    if (AddState) {\n      setProducts(storeProduct__api.getProducts());\n      setAddState(false);\n    }\n  }, [AddState]);\n  function handleAddCarProduct(e) {\n    //Se está buscando el producto en el shopping\n    let productShopping = storeProductShopping.getProductShoppingById(Number(e.currentTarget.name));\n    if (productShopping === undefined) {\n      //SI EL PRODUCTO NO EXISTE EN EL CARRITO\n      let _product = storeProduct__api.getProductById(Number(e.currentTarget.name)); //SE BUSCA EL PRODUCTO EN LOS PRODUCTOS GENERALES\n      _product.count = _product.count + 1; //SE LE AUMENTA LA CANTIDAD EXISTENTE\n      actionProductShopping.saveProductShopping(_product); //SE GUARDA EL PRODUCTO EN EL CARRITO\n      actionProducts__api.updateProducts(_product); //actualiza el home\n    } else {\n      // si el producto ya esta en el carrito\n      productShopping.count = productShopping.count + 1;\n      actionProductShopping.updateProductsShopping(productShopping); //actualiza carrito\n      actionProducts__api.updateProducts(productShopping); //actualiza el home\n    }\n\n    setAddState(true);\n  }\n  //Para conectar los datos desde la api\n  useEffect(() => {\n    storeProduct__api.addChangeListener(onChange);\n    if (products.length === 0) {\n      actionProducts__api.loadProducts();\n    }\n  }, [products.length]);\n  function onChange() {\n    setProducts(storeProduct__api.getProducts());\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: principalPhoto,\n        className: styles.principalPhoto,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.container__cards,\n        children: /*#__PURE__*/_jsxDEV(ProductList, {\n          products: products,\n          onAddCarProduct: handleAddCarProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(HomePage, \"3CiJtNsFL6eAwI0wioUi9F7snrQ=\");\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","principalPhoto","styles","ProductList","storeProduct","storeProductShopping","actionProductShopping","actionProducts","actionCount","storeProduct__api","actionProducts__api","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePage","props","_s","products","setProducts","getProducts","AddState","setAddState","handleAddCarProduct","e","productShopping","getProductShoppingById","Number","currentTarget","name","undefined","_product","getProductById","count","saveProductShopping","updateProducts","updateProductsShopping","addChangeListener","onChange","length","loadProducts","children","className","container","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","container__cards","onAddCarProduct","_c","$RefreshReg$"],"sources":["E:/Documentos/UTrabajo------------/DilbaniHelps/proyecto1_base_consumo_api_hipotetica/flux_base_MasGlobal/src/pages/homePage/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport principalPhoto from \"./../../assets/principalPhoto.svg\";\r\nimport styles from \"./styles/HomePage.module.css\";\r\nimport { ProductList } from \"./features/ProductList\";\r\nimport storeProduct from \"./../../stores/productStore\";\r\nimport storeProductShopping from \"./../../stores/productShoppingStore\";\r\nimport * as actionProductShopping from \"./../../actions/productShoppingActions\";\r\nimport * as actionProducts from \"./../../actions/productActions\";\r\nimport * as actionCount from \"./../../actions/countActions\";\r\nimport storeProduct__api from \"../../stores/productStore__api\";\r\nimport * as actionProducts__api from \"../../actions/productAction__api\";\r\n\r\nexport const HomePage = (props) => {\r\n  const [products, setProducts] = useState(storeProduct__api.getProducts());\r\n  const [AddState, setAddState] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (AddState) {\r\n      setProducts(storeProduct__api.getProducts());\r\n      setAddState(false);\r\n    }\r\n  }, [AddState]);\r\n\r\n  function handleAddCarProduct(e) {\r\n    //Se está buscando el producto en el shopping\r\n    let productShopping = storeProductShopping.getProductShoppingById(\r\n      Number(e.currentTarget.name)\r\n    );\r\n\r\n    if (productShopping === undefined) {\r\n      //SI EL PRODUCTO NO EXISTE EN EL CARRITO\r\n      let _product = storeProduct__api.getProductById(\r\n        Number(e.currentTarget.name)\r\n      ); //SE BUSCA EL PRODUCTO EN LOS PRODUCTOS GENERALES\r\n      _product.count = _product.count + 1; //SE LE AUMENTA LA CANTIDAD EXISTENTE\r\n      actionProductShopping.saveProductShopping(_product); //SE GUARDA EL PRODUCTO EN EL CARRITO\r\n      actionProducts__api.updateProducts(_product); //actualiza el home\r\n    } else {\r\n      // si el producto ya esta en el carrito\r\n      productShopping.count = productShopping.count + 1;\r\n      actionProductShopping.updateProductsShopping(productShopping); //actualiza carrito\r\n      actionProducts__api.updateProducts(productShopping); //actualiza el home\r\n    }\r\n    setAddState(true);\r\n  }\r\n  //Para conectar los datos desde la api\r\n  useEffect(() => {\r\n    storeProduct__api.addChangeListener(onChange);\r\n    if (products.length === 0) {\r\n      actionProducts__api.loadProducts();\r\n    }\r\n  }, [products.length]);\r\n  function onChange() {\r\n    setProducts(storeProduct__api.getProducts());\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <img src={principalPhoto} className={styles.principalPhoto} alt=\"\" />\r\n\r\n        <div className={styles.container__cards}>\r\n          <ProductList\r\n            products={products}\r\n            onAddCarProduct={handleAddCarProduct}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}